var e,t,n,o,i,r,s={},a=[],l=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function _(e,t){for(var n in t)e[n]=t[n];return e}function u(e){var t=e.parentNode;t&&t.removeChild(e)}function h(e,t,n){var o,i=arguments,r={};for(o in t)"key"!==o&&"ref"!==o&&(r[o]=t[o]);if(arguments.length>3)for(n=[n],o=3;o<arguments.length;o++)n.push(i[o]);if(null!=n&&(r.children=n),"function"==typeof e&&null!=e.defaultProps)for(o in e.defaultProps)void 0===r[o]&&(r[o]=e.defaultProps[o]);return c(e,r,t&&t.key,t&&t.ref,null)}function c(t,n,o,i,r){var s={type:t,props:n,key:o,ref:i,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:r};return null==r&&(s.__v=s),e.vnode&&e.vnode(s),s}function p(e){return e.children}function m(e,t){this.props=e,this.context=t}function d(e,t){if(null==t)return e.__?d(e.__,e.__.__k.indexOf(e)+1):null;for(var n;t<e.__k.length;t++)if(null!=(n=e.__k[t])&&null!=n.__e)return n.__e;return"function"==typeof e.type?d(e):null}function f(e){var t,n;if(null!=(e=e.__)&&null!=e.__c){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if(null!=(n=e.__k[t])&&null!=n.__e){e.__e=e.__c.base=n.__e;break}return f(e)}}function g(r){(!r.__d&&(r.__d=!0)&&t.push(r)&&!n++||i!==e.debounceRendering)&&((i=e.debounceRendering)||o)(w)}function w(){for(var e;n=t.length;)e=t.sort((function(e,t){return e.__v.__b-t.__v.__b})),t=[],e.some((function(e){var t,n,o,i,r,s,a;e.__d&&(s=(r=(t=e).__v).__e,(a=t.__P)&&(n=[],(o=_({},r)).__v=o,i=R(a,r,o,t.__n,void 0!==a.ownerSVGElement,null,n,null==s?d(r):s),T(n,r),i!=s&&f(r)))}))}function v(e,t,n,o,i,r,l,_,h,m){var f,g,w,v,y,b,C,T,x,M=o&&o.__k||a,k=M.length;for(h==s&&(h=null!=l?l[0]:k?d(o,0):null),n.__k=[],f=0;f<t.length;f++)if(null!=(v=n.__k[f]=null==(v=t[f])||"boolean"==typeof v?null:"string"==typeof v||"number"==typeof v?c(null,v,null,null,v):Array.isArray(v)?c(p,{children:v},null,null,null):null!=v.__e||null!=v.__c?c(v.type,v.props,v.key,null,v.__v):v)){if(v.__=n,v.__b=n.__b+1,null===(w=M[f])||w&&v.key==w.key&&v.type===w.type)M[f]=void 0;else for(g=0;g<k;g++){if((w=M[g])&&v.key==w.key&&v.type===w.type){M[g]=void 0;break}w=null}if(y=R(e,v,w=w||s,i,r,l,_,h,m),(g=v.ref)&&w.ref!=g&&(T||(T=[]),w.ref&&T.push(w.ref,null,v),T.push(g,v.__c||y,v)),null!=y){if(null==C&&(C=y),x=void 0,void 0!==v.__d)x=v.__d,v.__d=void 0;else if(l==w||y!=h||null==y.parentNode){e:if(null==h||h.parentNode!==e)e.appendChild(y),x=null;else{for(b=h,g=0;(b=b.nextSibling)&&g<k;g+=2)if(b==y)break e;e.insertBefore(y,h),x=h}"option"==n.type&&(e.value="")}h=void 0!==x?x:y.nextSibling,"function"==typeof n.type&&(n.__d=h)}else h&&w.__e==h&&h.parentNode!=e&&(h=d(w))}if(n.__e=C,null!=l&&"function"!=typeof n.type)for(f=l.length;f--;)null!=l[f]&&u(l[f]);for(f=k;f--;)null!=M[f]&&L(M[f],M[f]);if(T)for(f=0;f<T.length;f++)E(T[f],T[++f],T[++f])}function y(e,t,n){"-"===t[0]?e.setProperty(t,n):e[t]="number"==typeof n&&!1===l.test(t)?n+"px":null==n?"":n}function b(e,t,n,o,i){var r,s,a,l,_;if(i?"className"===t&&(t="class"):"class"===t&&(t="className"),"style"===t)if(r=e.style,"string"==typeof n)r.cssText=n;else{if("string"==typeof o&&(r.cssText="",o=null),o)for(l in o)n&&l in n||y(r,l,"");if(n)for(_ in n)o&&n[_]===o[_]||y(r,_,n[_])}else"o"===t[0]&&"n"===t[1]?(s=t!==(t=t.replace(/Capture$/,"")),a=t.toLowerCase(),t=(a in e?a:t).slice(2),n?(o||e.addEventListener(t,C,s),(e.l||(e.l={}))[t]=n):e.removeEventListener(t,C,s)):"list"!==t&&"tagName"!==t&&"form"!==t&&"type"!==t&&"size"!==t&&!i&&t in e?e[t]=null==n?"":n:"function"!=typeof n&&"dangerouslySetInnerHTML"!==t&&(t!==(t=t.replace(/^xlink:?/,""))?null==n||!1===n?e.removeAttributeNS("http://www.w3.org/1999/xlink",t.toLowerCase()):e.setAttributeNS("http://www.w3.org/1999/xlink",t.toLowerCase(),n):null==n||!1===n&&!/^ar/.test(t)?e.removeAttribute(t):e.setAttribute(t,n))}function C(t){this.l[t.type](e.event?e.event(t):t)}function R(t,n,o,i,r,s,a,l,u){var h,c,d,f,g,w,y,b,C,R,T,E=n.type;if(void 0!==n.constructor)return null;(h=e.__b)&&h(n);try{e:if("function"==typeof E){if(b=n.props,C=(h=E.contextType)&&i[h.__c],R=h?C?C.props.value:h.__:i,o.__c?y=(c=n.__c=o.__c).__=c.__E:("prototype"in E&&E.prototype.render?n.__c=c=new E(b,R):(n.__c=c=new m(b,R),c.constructor=E,c.render=M),C&&C.sub(c),c.props=b,c.state||(c.state={}),c.context=R,c.__n=i,d=c.__d=!0,c.__h=[]),null==c.__s&&(c.__s=c.state),null!=E.getDerivedStateFromProps&&(c.__s==c.state&&(c.__s=_({},c.__s)),_(c.__s,E.getDerivedStateFromProps(b,c.__s))),f=c.props,g=c.state,d)null==E.getDerivedStateFromProps&&null!=c.componentWillMount&&c.componentWillMount(),null!=c.componentDidMount&&c.__h.push(c.componentDidMount);else{if(null==E.getDerivedStateFromProps&&b!==f&&null!=c.componentWillReceiveProps&&c.componentWillReceiveProps(b,R),!c.__e&&null!=c.shouldComponentUpdate&&!1===c.shouldComponentUpdate(b,c.__s,R)||n.__v===o.__v){for(c.props=b,c.state=c.__s,n.__v!==o.__v&&(c.__d=!1),c.__v=n,n.__e=o.__e,n.__k=o.__k,c.__h.length&&a.push(c),h=0;h<n.__k.length;h++)n.__k[h]&&(n.__k[h].__=n);break e}null!=c.componentWillUpdate&&c.componentWillUpdate(b,c.__s,R),null!=c.componentDidUpdate&&c.__h.push((function(){c.componentDidUpdate(f,g,w)}))}c.context=R,c.props=b,c.state=c.__s,(h=e.__r)&&h(n),c.__d=!1,c.__v=n,c.__P=t,h=c.render(c.props,c.state,c.context),null!=c.getChildContext&&(i=_(_({},i),c.getChildContext())),d||null==c.getSnapshotBeforeUpdate||(w=c.getSnapshotBeforeUpdate(f,g)),T=null!=h&&h.type==p&&null==h.key?h.props.children:h,v(t,Array.isArray(T)?T:[T],n,o,i,r,s,a,l,u),c.base=n.__e,c.__h.length&&a.push(c),y&&(c.__E=c.__=null),c.__e=!1}else null==s&&n.__v===o.__v?(n.__k=o.__k,n.__e=o.__e):n.__e=x(o.__e,n,o,i,r,s,a,u);(h=e.diffed)&&h(n)}catch(t){n.__v=null,e.__e(t,n,o)}return n.__e}function T(t,n){e.__c&&e.__c(n,t),t.some((function(n){try{t=n.__h,n.__h=[],t.some((function(e){e.call(n)}))}catch(t){e.__e(t,n.__v)}}))}function x(e,t,n,o,i,r,l,_){var u,h,c,p,m,d=n.props,f=t.props;if(i="svg"===t.type||i,null!=r)for(u=0;u<r.length;u++)if(null!=(h=r[u])&&((null===t.type?3===h.nodeType:h.localName===t.type)||e==h)){e=h,r[u]=null;break}if(null==e){if(null===t.type)return document.createTextNode(f);e=i?document.createElementNS("http://www.w3.org/2000/svg",t.type):document.createElement(t.type,f.is&&{is:f.is}),r=null,_=!1}if(null===t.type)d!==f&&e.data!=f&&(e.data=f);else{if(null!=r&&(r=a.slice.call(e.childNodes)),c=(d=n.props||s).dangerouslySetInnerHTML,p=f.dangerouslySetInnerHTML,!_){if(null!=r)for(d={},m=0;m<e.attributes.length;m++)d[e.attributes[m].name]=e.attributes[m].value;(p||c)&&(p&&c&&p.__html==c.__html||(e.innerHTML=p&&p.__html||""))}(function(e,t,n,o,i){var r;for(r in n)"children"===r||"key"===r||r in t||b(e,r,null,n[r],o);for(r in t)i&&"function"!=typeof t[r]||"children"===r||"key"===r||"value"===r||"checked"===r||n[r]===t[r]||b(e,r,t[r],n[r],o)})(e,f,d,i,_),p?t.__k=[]:(u=t.props.children,v(e,Array.isArray(u)?u:[u],t,n,o,"foreignObject"!==t.type&&i,r,l,s,_)),_||("value"in f&&void 0!==(u=f.value)&&u!==e.value&&b(e,"value",u,d.value,!1),"checked"in f&&void 0!==(u=f.checked)&&u!==e.checked&&b(e,"checked",u,d.checked,!1))}return e}function E(t,n,o){try{"function"==typeof t?t(n):t.current=n}catch(t){e.__e(t,o)}}function L(t,n,o){var i,r,s;if(e.unmount&&e.unmount(t),(i=t.ref)&&(i.current&&i.current!==t.__e||E(i,null,n)),o||"function"==typeof t.type||(o=null!=(r=t.__e)),t.__e=t.__d=void 0,null!=(i=t.__c)){if(i.componentWillUnmount)try{i.componentWillUnmount()}catch(t){e.__e(t,n)}i.base=i.__P=null}if(i=t.__k)for(s=0;s<i.length;s++)i[s]&&L(i[s],n,o);null!=r&&u(r)}function M(e,t,n){return this.constructor(e,n)}e={__e:function(e,t){for(var n,o;t=t.__;)if((n=t.__c)&&!n.__)try{if(n.constructor&&null!=n.constructor.getDerivedStateFromError&&(o=!0,n.setState(n.constructor.getDerivedStateFromError(e))),null!=n.componentDidCatch&&(o=!0,n.componentDidCatch(e)),o)return g(n.__E=n)}catch(t){e=t}throw e}},m.prototype.setState=function(e,t){var n;n=this.__s!==this.state?this.__s:this.__s=_({},this.state),"function"==typeof e&&(e=e(n,this.props)),e&&_(n,e),null!=e&&this.__v&&(t&&this.__h.push(t),g(this))},m.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),g(this))},m.prototype.render=p,t=[],n=0,o="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,r=s;function k(e,t,n){const o=e.createShader(n);if(e.shaderSource(o,t),e.compileShader(o),!e.getShaderParameter(o,e.COMPILE_STATUS)){const t=e.getShaderInfoLog(o);throw e.deleteShader(o),Error(t||"unknown error")}return o}function S(e,t){const n=e.createTexture();return e.bindTexture(e.TEXTURE_2D,n),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,t),n}class A extends m{constructor(){super(...arguments),this._canvasRef={}}_setup(){const e=this._canvasRef.current.getContext("webgl",{antialias:!1,powerPreference:"low-power"});if(!e)throw Error("Couldn't create GL context");this._gl=e;const t=function(e,t){const n=e.createProgram();for(const o of t)e.attachShader(n,o);if(e.linkProgram(n),!e.getProgramParameter(n,e.LINK_STATUS)){const t=e.getProgramInfoLog(n);throw e.deleteProgram(n),Error(t||"unknown error")}return n}(e,[k(e,'/**\n* Copyright 2020 Google Inc. All Rights Reserved.\n* Licensed under the Apache License, Version 2.0 (the "License");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*     http://www.apache.org/licenses/LICENSE-2.0\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an "AS IS" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\nprecision lowp float;\n\n// our textures\nuniform sampler2D u_luma;\nuniform sampler2D u_chroma;\nuniform float showY;\nuniform float showCb;\nuniform float showCr;\n\n// the texCoords passed in from the vertex shader.\nvarying vec2 v_texCoord;\n\nvoid main() {\n  vec4 lumaRGB = texture2D(u_luma, v_texCoord).rgba;\n  vec4 chromaRGB = texture2D(u_chroma, v_texCoord).rgba;\n  float y = mix(0.5, 0.256788235 * lumaRGB.r + 0.504129412 * lumaRGB.g + 0.097905882 * lumaRGB.b + 0.062745098, showY);\n  float cb = mix(0.5, -0.148223529 * chromaRGB.r + -0.290992157 * chromaRGB.g + 0.439215686 * chromaRGB.b + 0.501960784, showCb);\n  float cr = mix(0.5, 0.439215686 * chromaRGB.r + -0.367788235 * chromaRGB.g + -0.071427451 * chromaRGB.b + 0.501960784, showCr);\n\n  float yMul = 1.164381 * y;\n\n  gl_FragColor = vec4(\n    yMul + 1.5960195 * cr + -0.8742024,\n    yMul + -0.3917565 * cb + -0.8129655 * cr + 0.5316682,\n    yMul + 2.0172285 * cb + -1.0856326,\n    1\n  );\n}\n',e.FRAGMENT_SHADER),k(e,'/**\n* Copyright 2020 Google Inc. All Rights Reserved.\n* Licensed under the Apache License, Version 2.0 (the "License");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*     http://www.apache.org/licenses/LICENSE-2.0\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an "AS IS" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\nprecision lowp float;\n\nattribute vec2 a_position;\n\nuniform mat3 u_matrix;\n\nvarying vec2 v_texCoord;\n\nvoid main() {\n   gl_Position = vec4(u_matrix * vec3(a_position, 1), 1);\n\n   // because we\'re using a unit quad we can just use\n   // the same data for our texcoords.\n   v_texCoord = a_position;\n}\n',e.VERTEX_SHADER)]);e.useProgram(t);const n=e.getAttribLocation(t,"a_position"),o=e.getUniformLocation(t,"u_luma");e.uniform1i(o,0);const i=e.getUniformLocation(t,"u_chroma");e.uniform1i(i,1);const r=e.getUniformLocation(t,"u_matrix");this._showYLoc=e.getUniformLocation(t,"showY"),this._showCbLoc=e.getUniformLocation(t,"showCb"),this._showCrLoc=e.getUniformLocation(t,"showCr");const s=e.createBuffer(),a=new Float32Array([0,0,1,0,0,1,0,1,1,0,1,1]);e.bindBuffer(e.ARRAY_BUFFER,s),e.bufferData(e.ARRAY_BUFFER,a,e.STATIC_DRAW),e.enableVertexAttribArray(n),e.vertexAttribPointer(n,2,e.FLOAT,!1,0,0),e.uniformMatrix3fv(r,!1,[2,0,0,0,-2,0,-1,1,1]),e.uniform1f(this._showYLoc,Number(this.props.showY)),e.uniform1f(this._showCbLoc,Number(this.props.showCb)),e.uniform1f(this._showCrLoc,Number(this.props.showCr))}_updateLuma(){this._lumaTexture&&this._gl.deleteTexture(this._lumaTexture),this._gl.activeTexture(this._gl.TEXTURE0),this._lumaTexture=S(this._gl,this.props.lumaBmp),this._gl.bindTexture(this._gl.TEXTURE_2D,this._lumaTexture)}_updateChroma(){this._chromaTexture&&this._gl.deleteTexture(this._chromaTexture),this._gl.activeTexture(this._gl.TEXTURE1),this._chromaTexture=S(this._gl,this.props.chromaBmp),this._gl.bindTexture(this._gl.TEXTURE_2D,this._chromaTexture)}_draw(){this._gl.drawArrays(this._gl.TRIANGLES,0,6)}componentDidMount(){this._setup(),this._updateLuma(),this._updateChroma(),this._draw()}componentDidUpdate(e){let t=!1;e.width===this.props.width&&e.height===this.props.height||(t=!0,this._gl.viewport(0,0,this._gl.canvas.width,this._gl.canvas.height)),e.chromaBmp!==this.props.chromaBmp&&(t=!0,this._updateChroma()),e.lumaBmp!==this.props.lumaBmp&&(t=!0,this._updateLuma()),e.showY!==this.props.showY&&(this._gl.uniform1f(this._showYLoc,Number(this.props.showY)),t=!0),e.showCb!==this.props.showCb&&(this._gl.uniform1f(this._showCbLoc,Number(this.props.showCb)),t=!0),e.showCr!==this.props.showCr&&(this._gl.uniform1f(this._showCrLoc,Number(this.props.showCr)),t=!0),t&&this._draw()}render({width:e,height:t}){return h("canvas",{class:"_chromaCanvas_kcbaf_1",ref:this._canvasRef,width:e,height:t})}}class B extends m{constructor(){super(...arguments),this._lumaMultiRef={},this._chromaMultiRef={},this._showYRef={},this._showCbRef={},this._showCrRef={},this._onChange=()=>{this.props.onChange({lumaMulti:this._lumaMultiRef.current.valueAsNumber,chromaMulti:this._chromaMultiRef.current.valueAsNumber,showY:this._showYRef.current.checked,showCb:this._showCbRef.current.checked,showCr:this._showCrRef.current.checked})}}render({lumaMulti:e,chromaMulti:t,width:n,height:o,showY:i,showCb:r,showCr:s}){return h("div",{class:"_controls_10a3c_1"},h("div",{class:"_ranges_10a3c_11"},h("label",{for:"luma-range"},"Luma: "),h("input",{id:"luma-range",ref:this._lumaMultiRef,type:"range",value:e,min:1e-4,max:1,step:"any",onInput:this._onChange}),h("span",{class:"_multiplier_10a3c_21"},e.toFixed(2),"x"),h("span",{class:"_data_10a3c_22"},(e*e).toFixed(3),"x²"),h("span",null,Math.round(n*e),"x",Math.round(o*e)),h("label",{for:"chroma-range"},"Chroma: "),h("input",{id:"chroma-range",ref:this._chromaMultiRef,type:"range",value:t,min:1e-4,max:1,step:"any",onInput:this._onChange}),h("span",{class:"_multiplier_10a3c_21"},t.toFixed(2),"x"),h("span",{class:"_data_10a3c_22"},(t*t).toFixed(3),"x²"),h("span",null,Math.round(n*t),"x",Math.round(o*t))),h("div",{class:"_toggles_10a3c_30"},h("label",{for:"show-y"},"Y"),h("input",{ref:this._showYRef,id:"show-y",type:"checkbox",checked:i,onInput:this._onChange}),h("label",{for:"show-cb"},"Cb"),h("input",{ref:this._showCbRef,id:"show-cb",type:"checkbox",checked:r,onInput:this._onChange}),h("label",{for:"show-cr"},"Cr"),h("input",{ref:this._showCrRef,id:"show-cr",type:"checkbox",checked:s,onInput:this._onChange})))}}const N=new URLSearchParams(location.search),U="1"===N.get("hideUi"),I="1"===N.get("demo"),P=Number(N.get("l"))||1,D=Number(N.get("uv"))||.1;async function Y(e,t,n){if(e.width<=t&&e.height<=n)return e;return e.width/e.height>t/n?createImageBitmap(e,{resizeWidth:t,resizeQuality:"high"}):createImageBitmap(e,{resizeHeight:n,resizeQuality:"high"})}async function F(e,t){return 1===t?e:createImageBitmap(e,{resizeWidth:Math.ceil(e.width*t)})}!function(t,n,o){var i,l,_;e.__&&e.__(t,n),l=(i=o===r)?null:o&&o.__k||n.__k,t=h(p,null,[t]),_=[],R(n,(i?n:o||n).__k=t,l||s,s,void 0!==n.ownerSVGElement,o&&!i?[o]:l?null:n.childNodes.length?a.slice.call(n.childNodes):null,_,o||s,i),T(_,t)}(h(class extends m{constructor(){super(),this.state={lumaMulti:P,chromaMulti:D,showY:!0,showCb:!0,showCr:!0},this._resizeTimeout=0,this._rangeTimeout=0,this._canvasContainerRef={},this._onFileChange=async e=>{const t=e.target;t.files&&t.files[0]&&this._openFile(t.files[0])},this._onResize=()=>{clearTimeout(this._resizeTimeout),this._resizeTimeout=setTimeout(async()=>{if(!this.state.mainBmp)return;const e=this._canvasContainerRef.current.getBoundingClientRect(),t=await Y(this.state.mainBmp,e.width*devicePixelRatio,e.height*devicePixelRatio),[n,o]=await Promise.all([F(t,this.state.lumaMulti),F(t,this.state.chromaMulti)]);this.setState({resizedBmp:t,lumaBmp:n,chromaBmp:o})},100)},this._onControlsChange=e=>{this.setState({chromaMulti:e.chromaMulti,lumaMulti:e.lumaMulti,showY:e.showY,showCb:e.showCb,showCr:e.showCr})},I&&fetch("img-b36c77dc.jpg").then(e=>e.blob()).then(e=>this._openFile(e))}async _openFile(e){const t=await createImageBitmap(e),n=this._canvasContainerRef.current.getBoundingClientRect(),o=await Y(t,n.width*devicePixelRatio,n.height*devicePixelRatio),[i,r]=await Promise.all([F(o,this.state.lumaMulti),F(o,this.state.chromaMulti)]);this.setState({mainBmp:t,resizedBmp:o,lumaBmp:i,chromaBmp:r})}componentDidMount(){addEventListener("resize",this._onResize)}componentWillUnmount(){removeEventListener("resize",this._onResize)}componentDidUpdate(e,t){const n={...this.state};n.lumaMulti===t.lumaMulti&&n.chromaMulti===t.chromaMulti||(clearTimeout(this._rangeTimeout),this._rangeTimeout=setTimeout(async()=>{let e,o;n.lumaMulti!==t.lumaMulti&&(e=F(n.resizedBmp,n.lumaMulti)),n.chromaMulti!==t.chromaMulti&&(o=F(n.resizedBmp,n.chromaMulti));const i={};e&&(i.lumaBmp=await e),o&&(i.chromaBmp=await o),this.setState(i)},50))}render({},{resizedBmp:e,lumaBmp:t,chromaBmp:n,chromaMulti:o,lumaMulti:i,showY:r,showCb:s,showCr:a}){return h("div",{class:"_app_64mjq_19"},h("div",{class:"_layout_64mjq_24"},h("div",{class:"_canvasContainer_64mjq_29",ref:this._canvasContainerRef},e&&t&&n&&h(A,{chromaBmp:n,lumaBmp:t,width:e.width,height:e.height,showY:r,showCb:s,showCr:a})),!U&&h(B,{lumaMulti:i,chromaMulti:o,onChange:this._onControlsChange,width:e?e.width:0,height:e?e.height:0,showY:r,showCb:s,showCr:a})),!U&&h("input",{type:"file",accept:"image/*",onChange:this._onFileChange}))}},null),document.body);
